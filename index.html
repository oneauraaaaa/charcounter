<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CharCounter</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to apply the Inter font and background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* bg-slate-900 */
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(14, 165, 233, 0.2), transparent 40%),
                radial-gradient(circle at 85% 30%, rgba(56, 189, 248, 0.2), transparent 40%);
        }
    </style>
</head>
<body class="text-white flex items-center justify-center min-h-screen p-4">

    <!-- Main container for the application with glassmorphism effect -->
    <div class="w-full max-w-2xl bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl shadow-2xl p-6 md:p-8">
        
        <!-- Header -->
        <header class="mb-6 text-center flex items-center justify-center gap-3">
            <!-- Icon -->
            <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-cyan-400"><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/></svg>
            <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-sky-400 to-cyan-300 text-transparent bg-clip-text">
                CharCounter
            </h1>
        </header>

        <!-- Text input area -->
        <div class="mb-6 relative">
            <textarea 
                id="text-input"
                class="w-full h-64 p-4 bg-slate-900/70 border-2 border-slate-700 rounded-lg focus:ring-4 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all duration-300 resize-none placeholder-slate-500"
                placeholder="Start writing, or paste your text here..."
            ></textarea>
        </div>

        <!-- Counter display section -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
            <div class="text-center bg-slate-900/50 border border-slate-700 p-4 rounded-lg">
                <h2 class="text-lg font-semibold text-slate-400">Words</h2>
                <p id="word-count" class="text-4xl font-bold text-cyan-400">0</p>
            </div>
            <div class="text-center bg-slate-900/50 border border-slate-700 p-4 rounded-lg">
                <h2 class="text-lg font-semibold text-slate-400">Characters</h2>
                <p id="char-count" class="text-4xl font-bold text-cyan-400">0</p>
            </div>
        </div>
        
        <!-- Action buttons -->
        <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
            <button 
                id="copy-btn"
                class="w-full sm:w-auto bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-cyan-500/50"
            >
                Copy Text
            </button>
            <button 
                id="clear-btn"
                class="w-full sm:w-auto bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-slate-500/50"
            >
                Clear Text
            </button>
        </div>
        
        <!-- A simple message box for feedback, initially hidden -->
        <div id="toast-message" class="fixed bottom-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 translate-y-4 transition-all duration-300">
            Text copied to clipboard!
        </div>

    </div>

    <script>
        // Get references to the HTML elements
        const textInput = document.getElementById('text-input');
        const wordCountElem = document.getElementById('word-count');
        const charCountElem = document.getElementById('char-count');
        const clearBtn = document.getElementById('clear-btn');
        const copyBtn = document.getElementById('copy-btn');
        const toastMessage = document.getElementById('toast-message');

        // Function to update the counters
        function updateCounters() {
            const text = textInput.value;

            // 1. Character Count
            const charCount = text.length;
            charCountElem.textContent = charCount;

            // 2. Word Count
            const words = text.trim().split(/\s+/).filter(word => word !== '');
            
            // If the input is empty or just spaces, the word count should be 0.
            wordCountElem.textContent = text.trim() === '' ? 0 : words.length;
        }

        // Function to show a temporary toast message
        function showToast(message) {
            toastMessage.textContent = message;
            toastMessage.classList.remove('opacity-0', 'translate-y-4');
            setTimeout(() => {
                toastMessage.classList.add('opacity-0', 'translate-y-4');
            }, 2000); // Hide after 2 seconds
        }

        // Event listener for input in the textarea
        textInput.addEventListener('input', updateCounters);

        // Event listener for the clear button
        clearBtn.addEventListener('click', () => {
            textInput.value = ''; // Clear the textarea
            updateCounters(); // Reset the counters to 0
            textInput.focus(); // Return focus to the textarea
        });

        // Event listener for the copy button
        copyBtn.addEventListener('click', () => {
            const textToCopy = textInput.value;
            if (textToCopy) {
                // A temporary textarea is created to execute the copy command
                const tempTextArea = document.createElement('textarea');
                tempTextArea.value = textToCopy;
                document.body.appendChild(tempTextArea);
                tempTextArea.select();
                try {
                    document.execCommand('copy'); // This command copies the selected text
                    showToast('Text copied to clipboard!');
                } catch (err) {
                    showToast('Failed to copy text.');
                    console.error('Fallback: Oops, unable to copy', err);
                }
                document.body.removeChild(tempTextArea);
            } else {
                showToast('Nothing to copy!');
            }
        });

        // Initial call to set counters to 0 on page load
        updateCounters();
    </script>

</body>
</html>
